# This file is part of Blackbook.
#
# Blackbook is free software: you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation, either version 3 of the License, or
# (at your option) any later version.
#
# Blackbook is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with Blackbook.  If not, see <https://www.gnu.org/licenses/>.
#
# This file shows the required environment variables.
# Copy this to a file named .env and fill in your actual values.
# DO NOT commit the .env file to version control.

# Flask settings
SECRET_KEY="your-super-secret-and-long-random-string"
FLASK_DEBUG=True
READONLY=False
APP_TITLE="LDAP Address Book"
ENABLE_GENERATED_AVATARS=False

# Authentication Method Toggles
ENABLE_LOCAL_LOGIN=True
ENABLE_LDAP_LOGIN=True

# Database URL (for local users)
DATABASE_URL="sqlite:///app.db"

# Caching
LDAP_CACHE_TIMEOUT=300
CACHE_REFRESH_INTERVAL=300

# Pagination
PAGE_SIZE_OPTIONS="20,30,50"

# Email Server for Password Resets
MAIL_SERVER=smtp.example.com
MAIL_PORT=587
MAIL_USE_TLS=True
MAIL_USERNAME=your-email@example.com
MAIL_PASSWORD=your-email-password
MAIL_FROM_ADDRESS=noreply@example.com

# Password Reset Link Expiration
PASSWORD_RESET_EXPIRATION_HOURS=24

# --- LDAP Server Connection Details ---
LDAP_SERVER="ldaps://your-ldap-server.com:636"
LDAP_USE_SSL=True
LDAP_BASE_DN="dc=example,dc=com"

# --- Optional Contact Filter ---
# If you only want to show contacts from a specific OU, set this variable.
# If it's commented out, the search will start from LDAP_BASE_DN.
# ADDRESSBOOK_FILTER="ou=myaddressbook,ou=addressbooks,dc=example,dc=com"

# --- LDAP User Authentication DN ---
# A template for constructing a user's DN for binding.
# Example for Active Directory: "cn={username},cn=Users,dc=example,dc=com"
# Example for OpenLDAP: "uid={username},ou=people,dc=example,dc=com"
LDAP_USER_DN_TEMPLATE=""
LDAP_ADMIN_GROUP_DN="" # e.g., "cn=admins,ou=groups,dc=example,dc=com"
LDAP_EDITOR_GROUP_DN="" # e.g., "cn=editors,ou=groups,dc=example,dc=com"

# --- LDAP Contact DN ---
# A template for constructing a new contact's DN. The {cn} will be replaced with the contact's full name.
LDAP_CONTACT_DN_TEMPLATE="cn={cn},ou=contacts,dc=example,dc=com"

LDAP_BIND_DN="cn=admin,dc=example,dc=com"
LDAP_BIND_PASSWORD="your-admin-password"

# --- SSO / OAuth Credentials (fill in the ones you want to use) ---
GOOGLE_CLIENT_ID=""
GOOGLE_CLIENT_SECRET=""
GOOGLE_ADMIN_GROUP="" # e.g., "address-book-admins"
GOOGLE_EDITOR_GROUP="" # e.g., "address-book-editors"

KEYCLOAK_CLIENT_ID=""
KEYCLOAK_CLIENT_SECRET=""
KEYCLOAK_SERVER_URL=""
KEYCLOAK_ADMIN_GROUP=""
KEYCLOAK_EDITOR_GROUP=""

AUTHENTIK_CLIENT_ID=""
AUTHENTIK_CLIENT_SECRET=""
AUTHENTIK_SERVER_URL=""
AUTHENTIK_ADMIN_GROUP=""
AUTHENTIK_EDITOR_GROUP=""

# --- LDAP Schema Configuration ---
LDAP_PERSON_OBJECT_CLASS="inetOrgPerson"
LDAP_COMPANY_LINK_ATTRIBUTE="o"

# --- Attribute Configuration ---
LDAP_ATTRIBUTE_MAP=cn:Full Name,sn:Surname,givenName:First Name,mail:Email,telephoneNumber:Phone,o:Company,title:Job Title,departmentNumber:Department,manager:Manager,jpegPhoto:Photo
LDAP_COMPANY_ATTRIBUTE_MAP=o:Company,street:Street,postalCode:Postcode,l:City
