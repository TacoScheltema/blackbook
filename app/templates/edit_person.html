{% extends "base.html" %}

{% block content %}
<div class="card shadow-sm">
    <div class="card-header bg-dark text-white">
        <h1 class="my-2">{{ title }}</h1>
    </div>
    <div class="card-body">
        <form action="{{ url_for('main.edit_person', b64_dn=b64_dn) }}" method="post">
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label for="cn" class="form-label">Full Name (cn)</label>
                    <input type="text" class="form-control" id="cn" name="cn" value="{{ person.cn[0] if person.cn }}" required>
                </div>
                <div class="col-md-6 mb-3">
                    <label for="sn" class="form-label">Surname (sn)</label>
                    <input type="text" class="form-control" id="sn" name="sn" value="{{ person.sn[0] if person.sn }}" required>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label for="givenName" class="form-label">Given Name</label>
                    <input type="text" class="form-control" id="givenName" name="givenName" value="{{ person.givenName[0] if person.givenName }}">
                </div>
                <div class="col-md-6 mb-3">
                    <label for="mail" class="form-label">Email</label>
                    <input type="email" class="form-control" id="mail" name="mail" value="{{ person.mail[0] if person.mail }}">
                </div>
            </div>
             <div class="row">
                <div class="col-md-6 mb-3">
                    <label for="telephoneNumber" class="form-label">Telephone</label>
                    <input type="tel" class="form-control" id="telephoneNumber" name="telephoneNumber" value="{{ person.telephoneNumber[0] if person.telephoneNumber }}">
                </div>
                <div class="col-md-6 mb-3">
                    <label for="company" class="form-label">Company (o)</label>
                    <input class="form-control" list="company-options" id="company" name="company" value="{{ person.o[0] if person.o }}">
                    <datalist id="company-options">
                        {% for company in companies %}
                            <option value="{{ company.o }}">
                        {% endfor %}
                    </datalist>
                    <div class="form-text">Select a company or type a new one. Leave blank to unassociate.</div>
                </div>
            </div>
            <button type="submit" class="btn btn-primary">Save Changes</button>
            <a href="{{ url_for('main.person_detail', b64_dn=b64_dn) }}" class="btn btn-secondary">Cancel</a>
        </form>
    </div>
</div>
{% endblock %}


