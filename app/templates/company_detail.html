# app/templates/company_detail.html
{% extends "base.html" %}

{% block content %}
<div class="card shadow-sm">
    <div class="card-header bg-dark text-white">
        <h1 class="my-2">{{ company.o[0] if company.o else 'Company Details' }}</h1>
    </div>
    <div class="card-body">
        <h5 class="card-title">Description</h5>
        <p class="card-text">{{ company.description[0] if company.description else 'N/A' }}</p>

        <h5 class="card-title mt-4">Address</h5>
        <p class="card-text">
            {% if company.street and company.street[0] %}
                {{ company.street[0] }}<br>
            {% endif %}
            {% if company.l and company.l[0] %}
                {{ company.l[0] }}{% if company.st and company.st[0] %}, {{ company.st[0] }}{% endif %} {{ company.postalCode[0] if company.postalCode and company.postalCode[0] }}
            {% else %}
                N/A
            {% endif %}
        </p>
    </div>
</div>

<div class="mt-4">
    <h2>Employees</h2>
    <div class="list-group shadow-sm">
        {% if employees %}
            {% for employee in employees %}
            <a href="{{ url_for('main.person_detail', b64_dn=employee.dn|b64encode) }}" class="list-group-item list-group-item-action">
                <strong>{{ employee.cn }}</strong><br>
                <small class="text-muted">{{ employee.mail or 'No email' }} | {{ employee.telephoneNumber or 'No phone' }}</small>
            </a>
            {% endfor %}
        {% else %}
            <div class="list-group-item">No employees found for this company.</div>
        {% endif %}
    </div>
</div>
{% endblock %}


